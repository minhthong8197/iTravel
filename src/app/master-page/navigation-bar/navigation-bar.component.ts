import { Component, OnInit } from '@angular/core';
import { ServerService } from '../../core/services/server.service';
import { Menu } from '../../model/menu.model';
import { MasterPageService } from '../../core/services/master-page.service';

@Component({
  selector: 'app-navigation-bar',
  templateUrl: './navigation-bar.component.html',
  styleUrls: ['./navigation-bar.component.scss']
})
export class NavigationBarComponent implements OnInit {

  // tslint:disable-next-line:max-line-length
  HEADER_LOGO: String = 'data:image/png;base64,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';

  listMenu: Menu[];

  constructor(private server: ServerService, private masterPage: MasterPageService) {}

  ngOnInit() {
    if (this.masterPage.listMenu == null || this.masterPage.listMenu.length < 1) {
      this.server.GetMenu().subscribe((result) => {
        this.masterPage.listMenu = result;
        this.listMenu = result;
      });
    } else {
      this.listMenu = this.masterPage.listMenu;
    }
  }

}
